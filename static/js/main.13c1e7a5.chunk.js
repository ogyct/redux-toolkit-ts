(this["webpackJsonpredux-ts"]=this["webpackJsonpredux-ts"]||[]).push([[0],{35:function(t,e,n){},37:function(t,e,n){},47:function(t,e,n){"use strict";n.r(e);var c,r=n(1),a=n.n(r),s=n(23),o=n.n(s),i=(n(35),n(12)),j=n.n(i),l=n(19),u=(n(37),n(16)),d=n(18),b=n(48),O=n(49),h=n(50),x=n(51),p=n(52),f=n(9),m=n(13);!function(t){t.IDLE="idle",t.LOADING="loading",t.READY="ready",t.ERROR="error"}(c||(c={}));var v=Object(m.c)({sortComparer:function(t,e){return e.id-t.id}}),g=v.getInitialState({postsStatus:c.IDLE}),y=Object(m.b)("Posts/fetchPosts",function(){var t=Object(l.a)(j.a.mark((function t(e,n){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://jsonplaceholder.typicode.com/posts/?userId=1");case 2:return c=t.sent,t.next=5,c.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),C=Object(m.b)("Posts/updatePost",function(){var t=Object(l.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://jsonplaceholder.typicode.com/posts/".concat(e.id),{method:"PUT",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),S=Object(m.d)({name:"Posts",initialState:g,reducers:{addPost:function(t,e){var n=t.ids.reduce((function(t,e){return t>e?t:e}));e.payload.id=+n+1,v.addOne(t,e.payload)},deletePost:function(t,e){v.removeOne(t,e.payload)},updatePost:function(t,e){v.upsertOne(t,e.payload)}},extraReducers:function(t){t.addCase(y.pending,(function(t){t.postsStatus=c.LOADING})).addCase(y.fulfilled,(function(t,e){t.postsStatus=c.READY,v.upsertMany(t,e.payload)})).addCase(C.fulfilled,(function(t,e){t.postsStatus=c.READY,v.upsertOne(t,e.payload)}))}}),k=S.actions,N=k.addPost,w=k.deletePost,E=(k.updatePost,v.getSelectors((function(t){return t.posts}))),A=n(2),D=function(t){var e=t.setCreationMode,n=Object(f.b)(),c={id:0,title:"",body:""},a=Object(r.useState)(c),s=Object(u.a)(a,2),o=s[0],i=s[1];return Object(A.jsx)("div",{children:Object(A.jsxs)(b.a,{children:[Object(A.jsxs)(O.a,{children:[Object(A.jsx)(h.a,{for:"title",children:"Title"}),Object(A.jsx)(x.a,{type:"text",name:"title",placeholder:"Enter title",value:o.title,onChange:function(t){return i((function(e){return Object(d.a)(Object(d.a)({},e),{},{title:t.target.value})}))}})]}),Object(A.jsxs)(O.a,{children:[Object(A.jsx)(h.a,{for:"text",children:"Text"}),Object(A.jsx)(x.a,{type:"text",name:"text",placeholder:"Enter text",value:o.body,onChange:function(t){return i((function(e){return Object(d.a)(Object(d.a)({},e),{},{body:t.target.value})}))}})]}),Object(A.jsx)(p.a,{onClick:function(){n(N(o)),e(!1),i((function(){return c}))},color:"primary",children:"Add post"})," "," ",Object(A.jsx)(p.a,{onClick:function(){return e(!1)},color:"dark",children:"Cancel"})]})})},I=n(53),P=n(54),R=n(55),L=n(7),B=function(t){var e=t.post,n=Object(r.useState)(e),c=Object(u.a)(n,2),a=c[0],s=c[1],o=Object(L.g)(),i=Object(f.b)();return Object(r.useEffect)((function(){s(e)}),[e]),Object(A.jsx)(I.a,{className:"border-0 m-2",body:!0,color:"light",children:Object(A.jsxs)(P.a,{children:[Object(A.jsx)(R.a,{tag:"h5",children:a.title}),Object(A.jsx)(R.a,{tag:"p",children:a.body}),Object(A.jsxs)(p.a,{onClick:function(){return i(w(e.id))},color:"danger",children:["Delete"," "]})," ",Object(A.jsx)(p.a,{onClick:function(){o.push("post/".concat(e.id))},children:"Edit post"})]})})},M=n(56),T=function(){return Object(A.jsx)(M.a,{type:"grow",color:"dark"})};function Y(){var t=Object(f.c)((function(t){return t.posts.postsStatus})),e=Object(f.c)((function(t){return E.selectAll(t)})),n=Object(r.useState)(!1),a=Object(u.a)(n,2),s=a[0],o=a[1],i=e.map((function(t){return Object(A.jsx)(B,{post:t},t.id)}));return Object(A.jsxs)("div",{children:[!s&&Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(p.a,{onClick:function(){return o(!0)},color:"primary",children:"Create new post"})}),s&&Object(A.jsx)("div",{className:"mb-2",children:Object(A.jsx)(D,{setCreationMode:o})}),Object(A.jsx)("div",{className:"mb-2",children:t===c.LOADING?T():i})]})}var G=n(57),F=n(58),J=n(59),W=n(60),z=n(61),U=n(14),$=n(29),q=n(30),H=Object(m.c)(),K=H.getInitialState({loadingStatus:c.IDLE}),Q=Object(m.b)("fetchPostComments",function(){var t=Object(l.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://jsonplaceholder.typicode.com/comments?postId=".concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),V=Object(m.d)({name:"comments",initialState:K,reducers:{},extraReducers:function(t){t.addCase(Q.pending,(function(t){t.loadingStatus=c.LOADING})),t.addCase(Q.fulfilled,(function(t,e){H.upsertMany(t,e.payload),t.loadingStatus=c.READY}))}}),X=H.getSelectors((function(t){return t.comments})),Z=Object(m.a)({reducer:{posts:S.reducer,comments:V.reducer}}),_=function(){return Object(f.b)()},tt=function(){var t=Object(L.g)(),e=_();return Object(A.jsxs)("div",{children:[Object(A.jsx)(p.a,{onClick:function(){return t.goBack()},children:Object(A.jsx)($.a,{icon:q.a,size:"1x"})})," ",Object(A.jsx)(p.a,{onClick:function(){e(y())},className:"",children:Object(A.jsx)($.a,{icon:q.b,size:"1x"})}),Object(A.jsx)("br",{})]})};function et(){var t=Object(f.c)((function(t){return E.selectIds(t)}));return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(G.a,{color:"light",expand:"md",className:"mb-3",children:[Object(A.jsxs)(F.a,{className:"mr-auto",navbar:!0,children:[Object(A.jsx)(J.a,{className:"mr-auto",children:Object(A.jsx)(W.a,{tag:U.b,to:"/posts",children:"Posts"})}),Object(A.jsx)(J.a,{className:"mr-auto",children:Object(A.jsx)(W.a,{tag:U.b,to:"/about",children:"About"})})]}),Object(A.jsx)(tt,{}),Object(A.jsxs)(z.a,{className:"pl-3",children:["Total posts: ",t.length]})]})})}var nt=n(66),ct=n(67),rt=n(68),at=n(62),st=n(64),ot=n(63),it=function(){var t=Object(L.h)().id,e=Object(f.c)((function(e){return X.selectAll(e).filter((function(e){return e.postId===+t}))})),n=_(),a=Object(f.c)((function(t){return t.comments.loadingStatus}));Object(r.useEffect)((function(){n(Q(t))}),[]);return Object(A.jsxs)("div",{children:[Object(A.jsxs)("h4",{className:"",children:["Comments ",a!==c.READY&&T()]}),e.map((function(t){return Object(A.jsx)(I.a,{body:!0,className:"text-left m-2 border-0",color:"light",children:Object(A.jsxs)(P.a,{children:[Object(A.jsx)(at.a,{tag:"h6",children:t.name}),Object(A.jsx)(ot.a,{children:t.email}),Object(A.jsx)(R.a,{children:t.body})]})})}))]})},jt=function(){var t=Object(L.h)().id,e=Object(f.c)((function(e){return E.selectById(e,t)})),n=_(),c=Object(r.useState)(!1),a=Object(u.a)(c,2),s=a[0],o=a[1],i=Object(r.useState)(""),j=Object(u.a)(i,2),l=j[0],b=j[1],O=Object(r.useState)(""),h=Object(u.a)(O,2),m=h[0],v=h[1];Object(r.useEffect)((function(){b((null===e||void 0===e?void 0:e.title)||""),v((null===e||void 0===e?void 0:e.body)||"")}),[e]);return Object(A.jsxs)("div",{children:[Object(A.jsxs)(I.a,{className:"bg-white mb-4 text-left",children:[Object(A.jsxs)(st.a,{children:["Post ",t]}),s?Object(A.jsxs)(P.a,{children:[Object(A.jsx)(x.a,{className:"m-2",value:l,onChange:function(t){return b(t.target.value)},children:null===e||void 0===e?void 0:e.title}),Object(A.jsx)(x.a,{className:"m-2",value:m,onChange:function(t){return v(t.target.value)},children:null===e||void 0===e?void 0:e.body}),Object(A.jsx)(p.a,{className:"m-2",color:"primary",onClick:function(){n(C(Object(d.a)(Object(d.a)({},e),{},{title:l,body:m}))),o(!1)},children:"Save"}),Object(A.jsx)(p.a,{className:"m-2",color:"dark",onClick:function(){o(!1),b(null===e||void 0===e?void 0:e.title),v(null===e||void 0===e?void 0:e.body)},children:"Cancel"})]}):Object(A.jsxs)(P.a,{children:[Object(A.jsx)(at.a,{tag:"h5",children:null===e||void 0===e?void 0:e.title}),Object(A.jsx)(R.a,{children:null===e||void 0===e?void 0:e.body}),Object(A.jsx)(p.a,{color:"primary",onClick:function(){return o(!0)},children:"Edit"})]})]}),Object(A.jsx)(it,{})]})},lt=n(65),ut=function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)("h1",{children:"React playground"}),Object(A.jsx)("p",{children:"Welcome to my react playground"}),Object(A.jsxs)("p",{children:["Built using",Object(A.jsx)(lt.a,{children:"react"}),Object(A.jsx)(lt.a,{children:"typescript"}),Object(A.jsx)(lt.a,{children:"redux"}),Object(A.jsx)(lt.a,{children:"redux toolkit"}),Object(A.jsx)(lt.a,{children:"reactstrap"})]}),Object(A.jsx)("footer",{children:"Dmitry Avgustis 2021"})]})};var dt=function(){var t=_(),e=Object(f.c)((function(t){return t.posts.postsStatus}));return Object(r.useEffect)((function(){Object(l.a)(j.a.mark((function n(){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e!==c.IDLE){n.next=3;break}return n.next=3,t(y());case 3:case"end":return n.stop()}}),n)})))()}),[e]),Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)(et,{}),Object(A.jsx)(nt.a,{className:"container container-lg",children:Object(A.jsx)(ct.a,{children:Object(A.jsx)(rt.a,{className:"",children:Object(A.jsxs)(L.d,{children:[Object(A.jsx)(L.b,{exact:!0,path:"/",children:Object(A.jsx)(L.a,{to:"/about"})}),Object(A.jsx)(L.b,{path:"/posts",component:Y}),Object(A.jsx)(L.b,{exact:!0,path:"/post/:id",component:jt}),Object(A.jsx)(L.b,{path:"/about",component:ut})]})})})}),Object(A.jsxs)("footer",{children:["Dmitry Avgustis 2021 ","Production"]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(46);o.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(U.a,{children:Object(A.jsx)(f.a,{store:Z,children:Object(A.jsx)(dt,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.13c1e7a5.chunk.js.map